<div>
    <div *ngIf="statusForm === 'initial'">
        <div class="header">
          <h3 class="text-center"><i class="far fa-envelope-open"></i> Fale conosco</h3>
        </div>
        <hr />
    
        <form 
        class="col-sm-12 col-md-6"
        [formGroup]="form"
        (ngSubmit)="onSubmit()"
        novalidate>
    
      <div class="form-group">
        <input  class="form-control form-control-sm" type="text"
                autocomplete="off" placeholder="Nome:" maxlength="40"
                formControlName="nome" (focusout)="formatInput('nome')"
        >
        <small
              class="form-text text-danger"
              *ngIf="form.get('nome').invalid && form.get('nome').touched"
        >
          Nome inválido
        </small>
      </div>
      <div class="form-group">
        <input  class="form-control form-control-sm" type="text"
                autocomplete="off" placeholder="E-mail:" maxlength="50"
                formControlName="email" 
        >
        
        <small 
              class="form-text text-danger"
              *ngIf="form.get('email').invalid && form.get('email').touched">
          E-mail inválido
        </small>
      </div>
    
      <div class="form-group">
        <input 
              [imask]="{mask: '(00) 0000-0000[0]'}"
              [unmask]="false"
              (accept)="value"
              class="col-sm-6 form-control form-control-sm" type="text" 
              autocomplete="off" placeholder="Telefone:"
              formControlName="telefone"  
        >
      </div>
      <div class="form-group">
        <textarea 
                  class="form-control" rows="3" autocomplete="off"
                  placeholder="Mensagem:" maxlength="440"
                  formControlName="mensagem" (focusout)="formatInput('mensagem')"
          ></textarea>
        <small 
              class="form-text text-danger"
              *ngIf="form.get('mensagem').invalid && form.get('mensagem').touched">
          Mensagem inválida
        </small>
      </div>
      <div class="form-group">
        <button [disabled]="!form.valid"
                class="btn float-right btn-outline-primary">Enviar</button>
      </div>
    </form>
    
  </div>

  <div *ngIf="statusForm === 'loading'">
    <div class="header">
      <h3 class="text-center">
        <i class="far fa-envelope"></i> Enviando a mensagem!
      </h3>
    </div>
    <hr />
    <div class="col-sm-12">
      <img src="assets/loading.gif" class="mx-auto d-block">
    </div>
  </div>

  <div *ngIf="statusForm ==='error'">
    <div class="header">
      <h3 class="text-center">
        <i class="far fa-envelope"></i> Erro ao enviar a mensagem!
      </h3>
    </div>
    <hr />
    <div class="col-sm-12">
      <h4 class="mt-3 text-center" style="color: #dc3545">
        <i class="fas fa-exclamation-circle fa-4x"></i>
      </h4>
      <p class="mt-3 text-center">
        Erro ao enviar a mensagem, tente novamente mais tarde!  
      </p>
    </div>
  </div>

  <div *ngIf="statusForm === 'success'">
    <div class="header">
        <h3 class="text-center">
          <i class="far fa-envelope"></i> Mensagem foi enviada com sucesso!
        </h3>
    </div>
    <hr />
    <div class="col-sm-12 col-md-6 mx-auto">
      <h4  class="mt-3 text-center" style="color: #28a745">
        <i class="far fa-check-circle fa-3x"></i>
      </h4>      
      <p class="mt-3 text-center">
        Agradecemos por entrar em contato conosco.
      </p>
      <p class="text-center">
        Nossa equipe entrará em contato o mais breve possível no e-mail
          ou telefone informado no formulário.
      </p> 
    </div>
  </div>
  
  <div *ngIf="statusForm === 'success' || statusForm === 'error'">   
    <div class="col text-center mt-5">
        <a href="#" routerLink="/" class="btn btn-lg btn-outline-primary">
          <i class="fa fa-home"></i> Ir a página inicial
        </a>
    </div>
  </div>

</div>

